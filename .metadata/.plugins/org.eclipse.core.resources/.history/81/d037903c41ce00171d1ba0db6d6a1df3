package br.com.uff.ubicomp.activityrecognition.preprocessing;

import java.time.LocalTime;
import java.util.ArrayList;
import java.util.List;
import java.util.TreeMap;

import br.com.uff.ubicomp.activityrecognition.preprocessing.persistence.entity.EnergyPositionActivity;
import br.com.uff.ubicomp.activityrecognition.preprocessing.persistence.repository.EnergyPositionActivityRepository;
import br.com.uff.ubicomp.activityrecognition.preprocessing.smarthome.Activity;
import br.com.uff.ubicomp.activityrecognition.preprocessing.smarthome.Environment;
import br.com.uff.ubicomp.activityrecognition.preprocessing.smarthome.Historic;

public class Main {

	public static void main(String[] args) throws Exception {
		Historic historic = new Historic();
		EnergyPositionActivity energyPositionActivity;
		EnergyPositionActivityRepository energyPositionActivityRepository = new EnergyPositionActivityRepository();
		TreeMap<LocalTime, Activity> userHistoric;
List<LocalTime> times;
LocalTime now;
Activity act;
Environment user_position;
for (int i = 0; i < historic.getHistoric().size(); i++) {
userHistoric = (TreeMap<LocalTime, Activity>) historic.getHistoric().get(i);
times = new ArrayList<LocalTime>(userHistoric.keySet());
for (int j = 0; j < userHistoric.size(); j++) {
now = times.get(i);
act = userHistoric.get(now);
switch (act) {
case READING:
case BATHING:
case COOKING:
case EATING:
case WATCHING_TV:
case WORKING_WITH_PC:
case LEAVING:
case CLEANING_THE_HOUSE:
case WASHING_DISHES:
case SLEEPING:
}
energyPositionActivity = new EnergyPositionActivity(i, now, user_position, act, Environment.getMeasurementOfEnvironment(Environment.ROOM, act, now), Environment.getMeasurementOfEnvironment(Environment.BEDROOM, act, now), Environment.getMeasurementOfEnvironment(Environment.BATHROOM, act, now), Environment.getMeasurementOfEnvironment(Environment.KITCHEN, act, now), Environment.getMeasurementOfEnvironment(Environment.EXTERNAL_AREA, act, now));
energyPositionActivityRepository.save(energyPositionActivity);
		}
	}

	}
}